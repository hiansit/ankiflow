<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz (Term -> Def)</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <header style="display: flex; justify-content: space-between; align-items: center; padding: 10px 20px;">
        <div class="logo"><a href="index.html" style="color:white;">„Éõ„Éº„É†</a> / „ÇØ„Ç§„Ç∫</div>
        <div style="display: flex; gap: 10px; align-items: center;">
            <div id="current-subject-display" style="font-size: 0.9rem; color: #ddd; margin-right: 15px;">ÁßëÁõÆ: ...
            </div>
            <button id="btn-settings" class="btn btn-secondary">Ë®≠ÂÆö</button>
        </div>
    </header>

    <div id="quiz-app" class="container">

        <!-- Settings Panel -->
        <div id="settings-panel" class="settings-panel">
            <h3>Ë®≠ÂÆö</h3>
            <div class="checkbox-group">
                <label class="checkbox-label"><input type="checkbox" name="level" value="0" checked> Êñ∞Ë¶è (0)</label>
                <label class="checkbox-label"><input type="checkbox" name="level" value="1" checked> Lv1 (1)</label>
                <label class="checkbox-label"><input type="checkbox" name="level" value="2" checked> Lv2 (2)</label>
                <label class="checkbox-label"><input type="checkbox" name="level" value="3"> Lv3 (3)</label>
                <label class="checkbox-label"><input type="checkbox" name="level" value="4"> Lv4 (4)</label>
            </div>

            <div style="margin-bottom: 15px;">
                <label>Âá∫È°åÈ†Ü:</label>
                <select id="sort-mode" style="padding: 5px;">
                    <option value="random">„É©„É≥„ÉÄ„É†</option>
                    <option value="date_asc">Âè§„ÅÑÈ†Ü</option>
                </select>
            </div>

            <button id="btn-apply" class="btn">ÈÅ©Áî®„Åó„Å¶ÂÜçÈñã</button>
        </div>

        <!-- Quiz Area -->
        <div class="card quiz-container" style="width: 100%; max-width: 900px; position: relative; text-align: center;">
            <div id="lbl-status" style="position: absolute; top: 10px; right: 15px; color: #888; font-size: 0.9rem;">
                ÊÆã„Çä: 0/0</div>

            <!-- Èï∑ÊñáÂØæÂøúÁâà: „Éí„É≥„ÉàË°®Á§∫„Ç®„É™„Ç¢ -->
            <div id="lbl-hint" class="hint-text"
                style="font-size: 1rem; color: #888; margin-bottom: 10px; min-height: 24px;"></div>

            <!-- Èï∑ÊñáÂØæÂøúÁâà: „Éï„Ç©„É≥„Éà„Çµ„Ç§„Ç∫„ÇíË™øÊï¥ -->
            <div id="lbl-question" class="question-text long-text"
                style="font-size: 1.8rem; margin: 20px 0; line-height: 1.4;">?</div>

            <div class="answer-area">
                <div id="btn-audio" class="hidden" style="margin-bottom: 10px;">
                    <button class="btn btn-secondary" onclick="playAudio()">üîä Èü≥Â£∞ÂÜçÁîü</button>
                </div>
                <!-- ID matched to script logic -->
                <div id="lbl-answer-main" class="hanzi-text" style="font-size: 2rem; color: #ddd; min-height: 40px;">
                </div>
            </div>

            <div id="lbl-info" style="color: gray; margin-top: 10px;"></div>

            <div class="controls" style="margin-top: 30px;">
                <button id="btn-show" class="btn" style="width: 200px; font-size: 1.2rem;"
                    onclick="showAnswer()">Á≠î„Åà„ÇíË¶ã„Çã</button>

                <div id="grading-buttons" class="hidden">
                    <button class="btn btn-level level-0" onclick="grade(0)">„Åæ„Åü‰ªäÂ∫¶</button>
                    <button class="btn btn-level level-1" onclick="grade(1)">ÂæÆÂ¶ô</button>
                    <button class="btn btn-level level-2" onclick="grade(2)">OK</button>
                    <button class="btn btn-level level-3" onclick="grade(3)">Á∞°Âçò</button>
                    <button class="btn btn-level level-4" onclick="grade(4)">ÂÆåÁíß</button>
                </div>
            </div>
        </div>
    </div>

    <script src="js/tts_manager.js"></script>
    <script src="js/db.js?v=csv_fix2"></script>
    <script src="js/script.js?v=csv_fix2"></script>
</body>

</html>